

{
  "itemIdentifier": "ogc.chekdbp.templates.object-lod",
  "$schema": "https://raw.githubusercontent.com/opengeospatial/bblocks-postprocess/refs/heads/master/ogc/bblocks/schemas/bblock.schema.yaml",
  "name": "Object Level of Detail (LoD)",
  "abstract": "Creates a rule to validate the LoD of a given element or set of elements",
  "status": "under-development",
  "dateTimeAddition": "2025-01-24T00:00:00Z",
  "itemClass": "schema",
  "version": "0.1",
  "dateOfLastChange": "2025-06-04",
  "tags": [
    "chek-rule-template"
  ],
  "shaclRules": {},
  "dependsOn": [
    "ogc.chekdbp.templates.base-rule",
    "ogc.chekdbp.templates.object-selector"
  ],
  "schema": {
    "application/yaml": "https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/object-lod/schema.yaml",
    "application/json": "https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/object-lod/schema.json"
  },
  "sourceSchema": "https://ogcincubator.github.io/chek-profiles-bblocks/_sources/templates/object-lod/schema.yaml",
  "ldContext": "https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/object-lod/context.jsonld",
  "sourceFiles": "https://ogcincubator.github.io/chek-profiles-bblocks/_sources/templates/object-lod/",
  "rdfData": [],
  "validationPassed": true,
  "testOutputs": "https://github.com/ogcincubator/chek-profiles-bblocks/blob/master/build/tests/chekdbp/templates/object-lod/",
  "description": "This template can be used to generate rules that verify the level of detail (LoD) of a given set of objects and/or\nthe presence of child objects.\n\n**Note**: The rules generated by this template will not require the existence of at least one of the selected\nelements (i.e., `path`/`idPatterns`), only that, when present, they must comply with the requirements. \n\n## `objectSelector`\n\nThe `objectSelector` can contain the following properties:\n\n  * Either a `path` array or an `idPatterns` array. Whichever is present will be used to determine the objects that\n    will be selected for checking.\n    * `path` can be used to declare a hierarchy (parent - child - grandchild - ...) that will be used for matching inside\n      the dataset. If only one class (e.g., `Building`) is provided, all objects of that class will be selected. Otherwise,\n      the last element will be selected, as long as it is the child (`hasChild`) of the previous one, and that of its\n      preceding object, and so on.\n    * `idPatterns` can contain a list of regular expressions that will be used to select the elements that will\n      be checked.\n  * Optionally, a `requireSubPath` array of object classes can be provided. This will add a requirement that the\n    objects selected with `path` or `idPatterns` contain a given object hierarchy within themselves. When using\n    `requireSubPath`, `geometrySurface` and LoD checks will refer to its last element (overriding the selector\n    above).\n  * Additionally, a `geometrySurface` value can be included to require the presence of a surface with a specific\n    geometry inside the selected element. If provided, LoD checks will be done against this geometry.\n\n## `lod`\n\nThe `lod` property is optional. When present, a validation rule will be added for the level of detail of the\ntarget object (defined with `objectSelector`). Otherwise, no LoD checks will be performed, and only `requireSubPath`\nand/or `geometrySurface` presence validations will be done.\n\n`lod` must contain one of the following subproperties:\n\n  * `min`: a minimum value for LoD. Extended LoDs (e.g., \"2.1\") are supported, in which case the requirement will\n    be applied to both components (e.g., \"X.Y\" where \"X\" is at least 2, and \"Y\" is at least 1).\n  * `regex`: a regular expression to match the LoD against.\n",
  "examples": [
    {
      "title": "Minimum LoD 2.1+ for buildings",
      "snippets": [
        {
          "language": "json",
          "ref": "examples/buildings-lod2.1.json",
          "code": "{\n  \"id\": \"my-rule\",\n  \"label\": \"My sample rule for buildings\",\n  \"message\": \"Building has LoD less than 2.1\",\n  \"objectSelector\": {\n    \"path\": [\n      \"Building\"\n    ]\n  },\n  \"lod\": {\n    \"min\": \"2.1\"\n  }\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_1_1.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/object-lod/context.jsonld\",\n  \"@graph\": [\n    {\n      \"@type\": \"sh:NodeShape\",\n      \"id\": \"my-rule\",\n      \"label\": \"My sample rule for buildings\",\n      \"description\": null,\n      \"message\": \"Building has LoD less than 2.1\",\n      \"sh:target\": {\n        \"@type\": \"sh:SPARQLTarget\",\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT ?this WHERE {\\n  ?this a city:Building .\\n  ?this city:hasGeometry ?geometry .\\n  ?geometry city:hasSurface ?surface .\\n}\"\n      },\n      \"sh:sparql\": {\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\\n  FILTER NOT EXISTS {\\n    $this city:hasGeometry ?geometry .\\n    ?geometry city:hasSurface ?surface .\\n    ?geometry city:lod ?lod .\\n    FILTER REGEX(?lod, \\\"^[2-4]\\\\\\\\.[1-4]$\\\")\\n  }\\n}\"\n      },\n      \"sh:severity\": {\n        \"@id\": \"sh:Violation\"\n      }\n    },\n    {\n      \"@id\": \"prefixes\",\n      \"@type\": \"owl:Ontology\",\n      \"owl:imports\": {\n        \"@id\": \"sh:\"\n      },\n      \"sh:declare\": [\n        {\n          \"sh:prefix\": \"city\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdf\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdfs\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/2000/01/rdf-schema#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"sd\",\n          \"sh:namespace\": {\n            \"@value\": \"https://w3id.org/okn/o/sd#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"attr\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/attr#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"dct\",\n          \"sh:namespace\": {\n            \"@value\": \"http://purl.org/dc/terms/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        }\n      ]\n    }\n  ]\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_1_1.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix my-rule: <http://example.com/change-me/> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\nmy-rule:my-rule a sh:NodeShape ;\n    sh:message \"Building has LoD less than 2.1\" ;\n    sh:name \"My sample rule for buildings\" ;\n    sh:severity sh:Violation ;\n    sh:sparql [ sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\n  FILTER NOT EXISTS {\n    $this city:hasGeometry ?geometry .\n    ?geometry city:hasSurface ?surface .\n    ?geometry city:lod ?lod .\n    FILTER REGEX(?lod, \"^[2-4]\\\\\\\\.[1-4]$\")\n  }\n}\"\"\" ] ;\n    sh:target [ a sh:SPARQLTarget ;\n            sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT ?this WHERE {\n  ?this a city:Building .\n  ?this city:hasGeometry ?geometry .\n  ?geometry city:hasSurface ?surface .\n}\"\"\" ] .\n\nmy-rule:prefixes a owl:Ontology ;\n    owl:imports sh: ;\n    sh:declare [ sh:namespace \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"^^xsd:anyURI ;\n            sh:prefix \"rdf\" ],\n        [ sh:namespace \"http://www.w3.org/2000/01/rdf-schema#\"^^xsd:anyURI ;\n            sh:prefix \"rdfs\" ],\n        [ sh:namespace \"http://example.com/vocab/city/\"^^xsd:anyURI ;\n            sh:prefix \"city\" ],\n        [ sh:namespace \"http://example.com/vocab/city/attr#\"^^xsd:anyURI ;\n            sh:prefix \"attr\" ],\n        [ sh:namespace \"https://w3id.org/okn/o/sd#\"^^xsd:anyURI ;\n            sh:prefix \"sd\" ],\n        [ sh:namespace \"http://purl.org/dc/terms/\"^^xsd:anyURI ;\n            sh:prefix \"dct\" ] .\n\n",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_1_1.ttl"
        }
      ]
    },
    {
      "title": "Minumum LoD 3 for buildings",
      "snippets": [
        {
          "language": "json",
          "ref": "examples/buildings-lod3.json",
          "code": "{\n  \"id\": \"my-rule\",\n  \"label\": \"My sample rule for buildings\",\n  \"message\": \"Building has LoD less than 3\",\n  \"objectSelector\": {\n    \"path\": [\n      \"Building\"\n    ]\n  },\n  \"lod\": {\n    \"min\": \"3\"\n  }\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_2_1.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/object-lod/context.jsonld\",\n  \"@graph\": [\n    {\n      \"@type\": \"sh:NodeShape\",\n      \"id\": \"my-rule\",\n      \"label\": \"My sample rule for buildings\",\n      \"description\": null,\n      \"message\": \"Building has LoD less than 3\",\n      \"sh:target\": {\n        \"@type\": \"sh:SPARQLTarget\",\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT ?this WHERE {\\n  ?this a city:Building .\\n  ?this city:hasGeometry ?geometry .\\n  ?geometry city:hasSurface ?surface .\\n}\"\n      },\n      \"sh:sparql\": {\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\\n  FILTER NOT EXISTS {\\n    $this city:hasGeometry ?geometry .\\n    ?geometry city:hasSurface ?surface .\\n    ?geometry city:lod ?lod .\\n    FILTER REGEX(?lod, \\\"^[3-4](\\\\\\\\.[0-4])?$\\\")\\n  }\\n}\"\n      },\n      \"sh:severity\": {\n        \"@id\": \"sh:Violation\"\n      }\n    },\n    {\n      \"@id\": \"prefixes\",\n      \"@type\": \"owl:Ontology\",\n      \"owl:imports\": {\n        \"@id\": \"sh:\"\n      },\n      \"sh:declare\": [\n        {\n          \"sh:prefix\": \"city\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdf\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdfs\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/2000/01/rdf-schema#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"sd\",\n          \"sh:namespace\": {\n            \"@value\": \"https://w3id.org/okn/o/sd#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"attr\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/attr#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"dct\",\n          \"sh:namespace\": {\n            \"@value\": \"http://purl.org/dc/terms/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        }\n      ]\n    }\n  ]\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_2_1.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix my-rule: <http://example.com/change-me/> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\nmy-rule:my-rule a sh:NodeShape ;\n    sh:message \"Building has LoD less than 3\" ;\n    sh:name \"My sample rule for buildings\" ;\n    sh:severity sh:Violation ;\n    sh:sparql [ sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\n  FILTER NOT EXISTS {\n    $this city:hasGeometry ?geometry .\n    ?geometry city:hasSurface ?surface .\n    ?geometry city:lod ?lod .\n    FILTER REGEX(?lod, \"^[3-4](\\\\\\\\.[0-4])?$\")\n  }\n}\"\"\" ] ;\n    sh:target [ a sh:SPARQLTarget ;\n            sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT ?this WHERE {\n  ?this a city:Building .\n  ?this city:hasGeometry ?geometry .\n  ?geometry city:hasSurface ?surface .\n}\"\"\" ] .\n\nmy-rule:prefixes a owl:Ontology ;\n    owl:imports sh: ;\n    sh:declare [ sh:namespace \"http://www.w3.org/2000/01/rdf-schema#\"^^xsd:anyURI ;\n            sh:prefix \"rdfs\" ],\n        [ sh:namespace \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"^^xsd:anyURI ;\n            sh:prefix \"rdf\" ],\n        [ sh:namespace \"http://example.com/vocab/city/attr#\"^^xsd:anyURI ;\n            sh:prefix \"attr\" ],\n        [ sh:namespace \"http://purl.org/dc/terms/\"^^xsd:anyURI ;\n            sh:prefix \"dct\" ],\n        [ sh:namespace \"https://w3id.org/okn/o/sd#\"^^xsd:anyURI ;\n            sh:prefix \"sd\" ],\n        [ sh:namespace \"http://example.com/vocab/city/\"^^xsd:anyURI ;\n            sh:prefix \"city\" ] .\n\n",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_2_1.ttl"
        }
      ]
    },
    {
      "title": "Minumum LoD 3.2 for WallSurface in Buildings",
      "snippets": [
        {
          "language": "json",
          "ref": "examples/wallsurfaces-lod3.2.json",
          "code": "{\n  \"id\": \"my-rule\",\n  \"label\": \"My sample rule for buildings\",\n  \"message\": \"Building is missing WallSurface with LoD at least 3.2\",\n  \"objectSelector\": {\n    \"path\": [\n      \"Building\"\n    ],\n    \"geometrySurface\": \"WallSurface\"\n  },\n  \"lod\": {\n    \"min\": \"3.2\"\n  }\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_3_1.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/object-lod/context.jsonld\",\n  \"@graph\": [\n    {\n      \"@type\": \"sh:NodeShape\",\n      \"id\": \"my-rule\",\n      \"label\": \"My sample rule for buildings\",\n      \"description\": null,\n      \"message\": \"Building is missing WallSurface with LoD at least 3.2\",\n      \"sh:target\": {\n        \"@type\": \"sh:SPARQLTarget\",\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT ?this WHERE {\\n  ?this a city:Building .\\n  ?this city:hasGeometry ?geometry .\\n  ?geometry city:hasSurface ?surface .\\n}\"\n      },\n      \"sh:sparql\": {\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\\n  FILTER NOT EXISTS {\\n    $this city:hasGeometry ?geometry .\\n    ?geometry city:hasSurface ?surface .\\n    ?surface a city:WallSurface .\\n    ?geometry city:lod ?lod .\\n    FILTER REGEX(?lod, \\\"^[3-4]\\\\\\\\.[2-4]$\\\")\\n  }\\n}\"\n      },\n      \"sh:severity\": {\n        \"@id\": \"sh:Violation\"\n      }\n    },\n    {\n      \"@id\": \"prefixes\",\n      \"@type\": \"owl:Ontology\",\n      \"owl:imports\": {\n        \"@id\": \"sh:\"\n      },\n      \"sh:declare\": [\n        {\n          \"sh:prefix\": \"city\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdf\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdfs\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/2000/01/rdf-schema#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"sd\",\n          \"sh:namespace\": {\n            \"@value\": \"https://w3id.org/okn/o/sd#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"attr\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/attr#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"dct\",\n          \"sh:namespace\": {\n            \"@value\": \"http://purl.org/dc/terms/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        }\n      ]\n    }\n  ]\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_3_1.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix my-rule: <http://example.com/change-me/> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\nmy-rule:my-rule a sh:NodeShape ;\n    sh:message \"Building is missing WallSurface with LoD at least 3.2\" ;\n    sh:name \"My sample rule for buildings\" ;\n    sh:severity sh:Violation ;\n    sh:sparql [ sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\n  FILTER NOT EXISTS {\n    $this city:hasGeometry ?geometry .\n    ?geometry city:hasSurface ?surface .\n    ?surface a city:WallSurface .\n    ?geometry city:lod ?lod .\n    FILTER REGEX(?lod, \"^[3-4]\\\\\\\\.[2-4]$\")\n  }\n}\"\"\" ] ;\n    sh:target [ a sh:SPARQLTarget ;\n            sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT ?this WHERE {\n  ?this a city:Building .\n  ?this city:hasGeometry ?geometry .\n  ?geometry city:hasSurface ?surface .\n}\"\"\" ] .\n\nmy-rule:prefixes a owl:Ontology ;\n    owl:imports sh: ;\n    sh:declare [ sh:namespace \"http://www.w3.org/2000/01/rdf-schema#\"^^xsd:anyURI ;\n            sh:prefix \"rdfs\" ],\n        [ sh:namespace \"http://example.com/vocab/city/\"^^xsd:anyURI ;\n            sh:prefix \"city\" ],\n        [ sh:namespace \"http://example.com/vocab/city/attr#\"^^xsd:anyURI ;\n            sh:prefix \"attr\" ],\n        [ sh:namespace \"http://purl.org/dc/terms/\"^^xsd:anyURI ;\n            sh:prefix \"dct\" ],\n        [ sh:namespace \"https://w3id.org/okn/o/sd#\"^^xsd:anyURI ;\n            sh:prefix \"sd\" ],\n        [ sh:namespace \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"^^xsd:anyURI ;\n            sh:prefix \"rdf\" ] .\n\n",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_3_1.ttl"
        }
      ]
    },
    {
      "title": "Mininum LoD with regular expression for GroundSurface of Building / BuildingPart",
      "snippets": [
        {
          "language": "json",
          "ref": "examples/buildingparts-lodregex.json",
          "code": "{\n  \"id\": \"my-rule\",\n  \"label\": \"My sample rule for buildings\",\n  \"message\": \"BuildingPart has LoD less than 2.2\",\n  \"objectSelector\": {\n    \"path\": [\n      \"Building\",\n      \"BuildingPart\"\n    ],\n    \"geometrySurface\": \"GroundSurface\"\n  },\n  \"lod\": {\n    \"regex\": \"^(2\\\\.[2-4]|[34](\\\\.*)?)$\"\n  }\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_4_1.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/object-lod/context.jsonld\",\n  \"@graph\": [\n    {\n      \"@type\": \"sh:NodeShape\",\n      \"id\": \"my-rule\",\n      \"label\": \"My sample rule for buildings\",\n      \"description\": null,\n      \"message\": \"BuildingPart has LoD less than 2.2\",\n      \"sh:target\": {\n        \"@type\": \"sh:SPARQLTarget\",\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT ?this WHERE {\\n  ?obj0 a city:Building .\\n  ?obj0 city:hasChild ?this .\\n  ?this a city:BuildingPart .\\n  ?this city:hasGeometry ?geometry .\\n  ?geometry city:hasSurface ?surface .\\n}\"\n      },\n      \"sh:sparql\": {\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\\n  FILTER NOT EXISTS {\\n    $this city:hasGeometry ?geometry .\\n    ?geometry city:hasSurface ?surface .\\n    ?surface a city:GroundSurface .\\n    ?geometry city:lod ?lod .\\n    FILTER REGEX(?lod, \\\"^(2\\\\.[2-4]|[34](\\\\.*)?)$\\\")\\n  }\\n}\"\n      },\n      \"sh:severity\": {\n        \"@id\": \"sh:Violation\"\n      }\n    },\n    {\n      \"@id\": \"prefixes\",\n      \"@type\": \"owl:Ontology\",\n      \"owl:imports\": {\n        \"@id\": \"sh:\"\n      },\n      \"sh:declare\": [\n        {\n          \"sh:prefix\": \"city\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdf\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdfs\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/2000/01/rdf-schema#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"sd\",\n          \"sh:namespace\": {\n            \"@value\": \"https://w3id.org/okn/o/sd#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"attr\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/attr#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"dct\",\n          \"sh:namespace\": {\n            \"@value\": \"http://purl.org/dc/terms/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        }\n      ]\n    }\n  ]\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_4_1.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix my-rule: <http://example.com/change-me/> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\nmy-rule:my-rule a sh:NodeShape ;\n    sh:message \"BuildingPart has LoD less than 2.2\" ;\n    sh:name \"My sample rule for buildings\" ;\n    sh:severity sh:Violation ;\n    sh:sparql [ sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\n  FILTER NOT EXISTS {\n    $this city:hasGeometry ?geometry .\n    ?geometry city:hasSurface ?surface .\n    ?surface a city:GroundSurface .\n    ?geometry city:lod ?lod .\n    FILTER REGEX(?lod, \"^(2\\\\.[2-4]|[34](\\\\.*)?)$\")\n  }\n}\"\"\" ] ;\n    sh:target [ a sh:SPARQLTarget ;\n            sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT ?this WHERE {\n  ?obj0 a city:Building .\n  ?obj0 city:hasChild ?this .\n  ?this a city:BuildingPart .\n  ?this city:hasGeometry ?geometry .\n  ?geometry city:hasSurface ?surface .\n}\"\"\" ] .\n\nmy-rule:prefixes a owl:Ontology ;\n    owl:imports sh: ;\n    sh:declare [ sh:namespace \"https://w3id.org/okn/o/sd#\"^^xsd:anyURI ;\n            sh:prefix \"sd\" ],\n        [ sh:namespace \"http://example.com/vocab/city/attr#\"^^xsd:anyURI ;\n            sh:prefix \"attr\" ],\n        [ sh:namespace \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"^^xsd:anyURI ;\n            sh:prefix \"rdf\" ],\n        [ sh:namespace \"http://www.w3.org/2000/01/rdf-schema#\"^^xsd:anyURI ;\n            sh:prefix \"rdfs\" ],\n        [ sh:namespace \"http://purl.org/dc/terms/\"^^xsd:anyURI ;\n            sh:prefix \"dct\" ],\n        [ sh:namespace \"http://example.com/vocab/city/\"^^xsd:anyURI ;\n            sh:prefix \"city\" ] .\n\n",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_4_1.ttl"
        }
      ]
    },
    {
      "title": "Require that all BuildingPart's inside Building's have at least one BuildingInstallation with a WallSurface of LoD >= 2.",
      "snippets": [
        {
          "language": "json",
          "ref": "examples/buildingparts-withinstallations.json",
          "code": "{\n  \"id\": \"my-rule\",\n  \"label\": \"My sample rule for buildings\",\n  \"message\": \"BuildingPart lacks BuildingInstallation, or BuildingInstallation inside BuildingPart is missing WallSurface with LoD >= 2\",\n  \"objectSelector\": {\n    \"path\": [\n      \"Building\",\n      \"BuildingPart\"\n    ],\n    \"requiredSubPath\": [\n      \"BuildingInstallation\"\n    ],\n    \"geometrySurface\": \"WallSurface\"\n  },\n  \"lod\": {\n    \"min\": \"2\"\n  }\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_5_1.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/object-lod/context.jsonld\",\n  \"@graph\": [\n    {\n      \"@type\": \"sh:NodeShape\",\n      \"id\": \"my-rule\",\n      \"label\": \"My sample rule for buildings\",\n      \"description\": null,\n      \"message\": \"BuildingPart lacks BuildingInstallation, or BuildingInstallation inside BuildingPart is missing WallSurface with LoD >= 2\",\n      \"sh:target\": {\n        \"@type\": \"sh:SPARQLTarget\",\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT ?this WHERE {\\n  ?obj0 a city:Building .\\n  ?obj0 city:hasChild ?this .\\n  ?this a city:BuildingPart .\\n  ?this city:hasGeometry ?geometry .\\n  ?geometry city:hasSurface ?surface .\\n}\"\n      },\n      \"sh:sparql\": {\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\\n  FILTER NOT EXISTS {\\n    $this city:hasChild ?obj0 .\\n    ?obj0 a city:BuildingInstallation .\\n    ?obj0 city:hasGeometry ?geometry .\\n    ?geometry city:hasSurface ?surface .\\n    ?surface a city:WallSurface .\\n    ?geometry city:lod ?lod .\\n    FILTER REGEX(?lod, \\\"^[2-4](\\\\\\\\.[0-4])?$\\\")\\n  }\\n}\"\n      },\n      \"sh:severity\": {\n        \"@id\": \"sh:Violation\"\n      }\n    },\n    {\n      \"@id\": \"prefixes\",\n      \"@type\": \"owl:Ontology\",\n      \"owl:imports\": {\n        \"@id\": \"sh:\"\n      },\n      \"sh:declare\": [\n        {\n          \"sh:prefix\": \"city\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdf\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdfs\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/2000/01/rdf-schema#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"sd\",\n          \"sh:namespace\": {\n            \"@value\": \"https://w3id.org/okn/o/sd#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"attr\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/attr#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"dct\",\n          \"sh:namespace\": {\n            \"@value\": \"http://purl.org/dc/terms/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        }\n      ]\n    }\n  ]\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_5_1.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix my-rule: <http://example.com/change-me/> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\nmy-rule:my-rule a sh:NodeShape ;\n    sh:message \"BuildingPart lacks BuildingInstallation, or BuildingInstallation inside BuildingPart is missing WallSurface with LoD >= 2\" ;\n    sh:name \"My sample rule for buildings\" ;\n    sh:severity sh:Violation ;\n    sh:sparql [ sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\n  FILTER NOT EXISTS {\n    $this city:hasChild ?obj0 .\n    ?obj0 a city:BuildingInstallation .\n    ?obj0 city:hasGeometry ?geometry .\n    ?geometry city:hasSurface ?surface .\n    ?surface a city:WallSurface .\n    ?geometry city:lod ?lod .\n    FILTER REGEX(?lod, \"^[2-4](\\\\\\\\.[0-4])?$\")\n  }\n}\"\"\" ] ;\n    sh:target [ a sh:SPARQLTarget ;\n            sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT ?this WHERE {\n  ?obj0 a city:Building .\n  ?obj0 city:hasChild ?this .\n  ?this a city:BuildingPart .\n  ?this city:hasGeometry ?geometry .\n  ?geometry city:hasSurface ?surface .\n}\"\"\" ] .\n\nmy-rule:prefixes a owl:Ontology ;\n    owl:imports sh: ;\n    sh:declare [ sh:namespace \"http://example.com/vocab/city/\"^^xsd:anyURI ;\n            sh:prefix \"city\" ],\n        [ sh:namespace \"http://purl.org/dc/terms/\"^^xsd:anyURI ;\n            sh:prefix \"dct\" ],\n        [ sh:namespace \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"^^xsd:anyURI ;\n            sh:prefix \"rdf\" ],\n        [ sh:namespace \"https://w3id.org/okn/o/sd#\"^^xsd:anyURI ;\n            sh:prefix \"sd\" ],\n        [ sh:namespace \"http://www.w3.org/2000/01/rdf-schema#\"^^xsd:anyURI ;\n            sh:prefix \"rdfs\" ],\n        [ sh:namespace \"http://example.com/vocab/city/attr#\"^^xsd:anyURI ;\n            sh:prefix \"attr\" ] .\n\n",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_5_1.ttl"
        }
      ]
    },
    {
      "title": "Minumum LoD 3 for objects whose identifiers begin with \"ABC\" or end with \"DEF\".",
      "snippets": [
        {
          "language": "json",
          "ref": "examples/buildings-regex.json",
          "code": "{\n  \"id\": \"my-rule\",\n  \"label\": \"Sample regex rule\",\n  \"message\": \"Object has LoD less than 3\",\n  \"objectSelector\": {\n    \"idPatterns\": [\n      \"^ABC.*\",\n      \".*DEF$\"\n    ]\n  },\n  \"lod\": {\n    \"min\": \"3\"\n  }\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_6_1.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/object-lod/context.jsonld\",\n  \"@graph\": [\n    {\n      \"@type\": \"sh:NodeShape\",\n      \"id\": \"my-rule\",\n      \"label\": \"Sample regex rule\",\n      \"description\": null,\n      \"message\": \"Object has LoD less than 3\",\n      \"sh:target\": {\n        \"@type\": \"sh:SPARQLTarget\",\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT ?this WHERE {\\n  $this dct:identifier ?identifier .\\n  { FILTER REGEX(?identifier, \\\"^ABC.*\\\") }\\n  UNION\\n  { FILTER REGEX(?identifier, \\\".*DEF$\\\") }\\n}\"\n      },\n      \"sh:sparql\": {\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\\n  FILTER NOT EXISTS {\\n    $this city:hasGeometry ?geometry .\\n    ?geometry city:hasSurface ?surface .\\n    ?geometry city:lod ?lod .\\n    FILTER REGEX(?lod, \\\"^[3-4](\\\\\\\\.[0-4])?$\\\")\\n  }\\n}\"\n      },\n      \"sh:severity\": {\n        \"@id\": \"sh:Violation\"\n      }\n    },\n    {\n      \"@id\": \"prefixes\",\n      \"@type\": \"owl:Ontology\",\n      \"owl:imports\": {\n        \"@id\": \"sh:\"\n      },\n      \"sh:declare\": [\n        {\n          \"sh:prefix\": \"city\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdf\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdfs\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/2000/01/rdf-schema#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"sd\",\n          \"sh:namespace\": {\n            \"@value\": \"https://w3id.org/okn/o/sd#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"attr\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/attr#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"dct\",\n          \"sh:namespace\": {\n            \"@value\": \"http://purl.org/dc/terms/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        }\n      ]\n    }\n  ]\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_6_1.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix my-rule: <http://example.com/change-me/> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\nmy-rule:my-rule a sh:NodeShape ;\n    sh:message \"Object has LoD less than 3\" ;\n    sh:name \"Sample regex rule\" ;\n    sh:severity sh:Violation ;\n    sh:sparql [ sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\n  FILTER NOT EXISTS {\n    $this city:hasGeometry ?geometry .\n    ?geometry city:hasSurface ?surface .\n    ?geometry city:lod ?lod .\n    FILTER REGEX(?lod, \"^[3-4](\\\\\\\\.[0-4])?$\")\n  }\n}\"\"\" ] ;\n    sh:target [ a sh:SPARQLTarget ;\n            sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT ?this WHERE {\n  $this dct:identifier ?identifier .\n  { FILTER REGEX(?identifier, \"^ABC.*\") }\n  UNION\n  { FILTER REGEX(?identifier, \".*DEF$\") }\n}\"\"\" ] .\n\nmy-rule:prefixes a owl:Ontology ;\n    owl:imports sh: ;\n    sh:declare [ sh:namespace \"http://example.com/vocab/city/attr#\"^^xsd:anyURI ;\n            sh:prefix \"attr\" ],\n        [ sh:namespace \"http://www.w3.org/2000/01/rdf-schema#\"^^xsd:anyURI ;\n            sh:prefix \"rdfs\" ],\n        [ sh:namespace \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"^^xsd:anyURI ;\n            sh:prefix \"rdf\" ],\n        [ sh:namespace \"https://w3id.org/okn/o/sd#\"^^xsd:anyURI ;\n            sh:prefix \"sd\" ],\n        [ sh:namespace \"http://example.com/vocab/city/\"^^xsd:anyURI ;\n            sh:prefix \"city\" ],\n        [ sh:namespace \"http://purl.org/dc/terms/\"^^xsd:anyURI ;\n            sh:prefix \"dct\" ] .\n\n",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_6_1.ttl"
        }
      ]
    },
    {
      "title": "Require that every Building has a WallSurface, but no specific LoD",
      "snippets": [
        {
          "language": "json",
          "ref": "examples/buildings-wallsurface-nolod.json",
          "code": "{\n  \"id\": \"my-rule\",\n  \"label\": \"Only geometry requirement\",\n  \"message\": \"Building has no WallSurface\",\n  \"objectSelector\": {\n    \"path\": [\n      \"Building\"\n    ],\n    \"geometrySurface\": \"WallSurface\"\n  }\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_7_1.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/object-lod/context.jsonld\",\n  \"@graph\": [\n    {\n      \"@type\": \"sh:NodeShape\",\n      \"id\": \"my-rule\",\n      \"label\": \"Only geometry requirement\",\n      \"description\": null,\n      \"message\": \"Building has no WallSurface\",\n      \"sh:target\": {\n        \"@type\": \"sh:SPARQLTarget\",\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT ?this WHERE {\\n  ?this a city:Building .\\n  ?this city:hasGeometry ?geometry .\\n  ?geometry city:hasSurface ?surface .\\n}\"\n      },\n      \"sh:sparql\": {\n        \"sh:prefixes\": {\n          \"@id\": \"my-rule:prefixes\"\n        },\n        \"sh:select\": \"\\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\\n  FILTER NOT EXISTS {\\n    $this city:hasGeometry ?geometry .\\n    ?geometry city:hasSurface ?surface .\\n    ?surface a city:WallSurface .\\n  }\\n}\"\n      },\n      \"sh:severity\": {\n        \"@id\": \"sh:Violation\"\n      }\n    },\n    {\n      \"@id\": \"prefixes\",\n      \"@type\": \"owl:Ontology\",\n      \"owl:imports\": {\n        \"@id\": \"sh:\"\n      },\n      \"sh:declare\": [\n        {\n          \"sh:prefix\": \"city\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdf\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"rdfs\",\n          \"sh:namespace\": {\n            \"@value\": \"http://www.w3.org/2000/01/rdf-schema#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"sd\",\n          \"sh:namespace\": {\n            \"@value\": \"https://w3id.org/okn/o/sd#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"attr\",\n          \"sh:namespace\": {\n            \"@value\": \"http://example.com/vocab/city/attr#\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        },\n        {\n          \"sh:prefix\": \"dct\",\n          \"sh:namespace\": {\n            \"@value\": \"http://purl.org/dc/terms/\",\n            \"@type\": \"xsd:anyURI\"\n          }\n        }\n      ]\n    }\n  ]\n}",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_7_1.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix my-rule: <http://example.com/change-me/> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\nmy-rule:my-rule a sh:NodeShape ;\n    sh:message \"Building has no WallSurface\" ;\n    sh:name \"Only geometry requirement\" ;\n    sh:severity sh:Violation ;\n    sh:sparql [ sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT $this (city:lod as ?path) (?lod as ?value) WHERE {\n  FILTER NOT EXISTS {\n    $this city:hasGeometry ?geometry .\n    ?geometry city:hasSurface ?surface .\n    ?surface a city:WallSurface .\n  }\n}\"\"\" ] ;\n    sh:target [ a sh:SPARQLTarget ;\n            sh:prefixes my-rule:prefixes ;\n            sh:select \"\"\"\nSELECT ?this WHERE {\n  ?this a city:Building .\n  ?this city:hasGeometry ?geometry .\n  ?geometry city:hasSurface ?surface .\n}\"\"\" ] .\n\nmy-rule:prefixes a owl:Ontology ;\n    owl:imports sh: ;\n    sh:declare [ sh:namespace \"http://purl.org/dc/terms/\"^^xsd:anyURI ;\n            sh:prefix \"dct\" ],\n        [ sh:namespace \"http://example.com/vocab/city/attr#\"^^xsd:anyURI ;\n            sh:prefix \"attr\" ],\n        [ sh:namespace \"http://www.w3.org/2000/01/rdf-schema#\"^^xsd:anyURI ;\n            sh:prefix \"rdfs\" ],\n        [ sh:namespace \"http://example.com/vocab/city/\"^^xsd:anyURI ;\n            sh:prefix \"city\" ],\n        [ sh:namespace \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"^^xsd:anyURI ;\n            sh:prefix \"rdf\" ],\n        [ sh:namespace \"https://w3id.org/okn/o/sd#\"^^xsd:anyURI ;\n            sh:prefix \"sd\" ] .\n\n",
          "url": "https://ogcincubator.github.io/chek-profiles-bblocks/build/tests/chekdbp/templates/object-lod/example_7_1.ttl"
        }
      ]
    }
  ],
  "annotatedSchema": "$schema: https://json-schema.org/draft/2020-12/schema\ntype: object\nallOf:\n- $ref: https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/base-rule/schema.yaml\n- required:\n  - objectSelector\n  properties:\n    objectSelector:\n      allOf:\n      - $ref: https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/object-selector/schema.yaml\n      - type: object\n        properties:\n          requiredSubPath:\n            description: Array with city object path, starting from the last element\n              of \"path\", that is required to be present.\n            minItems: 1\n            $ref: https://ogcincubator.github.io/chek-profiles-bblocks/build/annotated/chekdbp/templates/object-selector/schema.yaml#/$defs/CityObjectArray\n          geometrySurface:\n            description: Geometry surface on which the LoD will be checked.\n            type: string\n    lod:\n      description: Level of detail\n      type: object\n      oneOf:\n      - required:\n        - regex\n        properties:\n          regex:\n            description: Regular expression to validate the LoD.\n            type: string\n      - required:\n        - min\n        properties:\n          min:\n            description: Minimum allowed LoD. Can be simple (2) or extended (2.1).\n              If extended an LoD is used, only extended values will be allowed.\n            type: string\n            pattern: ^[0-3](\\.[0-3])?$\n",
  "semanticUplift": {
    "$schema": "https://raw.githubusercontent.com/opengeospatial/bblocks-postprocess/refs/heads/master/ogc/bblocks/schemas/semantic-uplift.schema.yaml",
    "additionalSteps": [
      {
        "type": "jq",
        "ref": "https://ogcincubator.github.io/chek-profiles-bblocks/_sources/templates/object-lod/uplift.jq",
        "stage": "pre"
      }
    ]
  },
  "gitRepository": "https://github.com/ogcincubator/chek-profiles-bblocks",
  "gitPath": "_sources/templates/object-lod"
}